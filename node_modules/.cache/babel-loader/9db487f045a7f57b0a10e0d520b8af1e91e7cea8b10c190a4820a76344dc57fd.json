{"ast":null,"code":"import{useReducer}from\"react\";import\"./styles.css\";import Digitbutton from\"./Digitbutton\";import OperationButton from\"./Operationbutton\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export const ACTIONS={ADD_DIGIT:'add-digit',CHOOSE_OPERATION:'choose_operation',CLEAR:'clear',EVALUATE:'evaluate',DELETE_DIGIT:'delete-digit'};function reducer(state,_ref){let{type,payload}=_ref;switch(type){case ACTIONS.ADD_DIGIT:if(state.overwrite)return{...state,currentOperand:payload.digit,overwrite:false};if(payload.digit===\"0\"&&state.currentOperand===\"0\")return state;if(payload.digit===\".\"&&state.currentOperand.includes(\".\"))return state;return{...state,currentOperand:\"\".concat(state.currentOperand||\"\").concat(payload.digit)};case ACTIONS.CLEAR:return{};case ACTIONS.CHOOSE_OPERATION:if(state.currentOperand==null&&state.previousOperand==null){return state;}if(state.previousOperand==null)return{...state,operation:payload.operation,previousOperand:state.currentOperand,currentOperand:null};return{...state,previousOperand:evaluate(state),operation:payload.operation,currentOperand:null};case ACTIONS.EVALUATE:if(state.operation==null||state.currentOperand==null||state.previousOperand==null){return state;}return{...state,overwrite:true,previousOperand:null,operation:null,currentOperand:evaluate(state)};case ACTIONS.DELETE_DIGIT:if(state.overwrite){return{...state,overwrite:false,currentOperand:null};}if(state.currentOperand==null)return state;if(state.currentOperand.length===1){return{...state,currentOperand:null};}return{...state,currentOperand:state.currentOperand.slice(0,-1)};}}function evaluate(_ref2){let{currentOperand,previousOperand,operation}=_ref2;const prev=parseFloat(previousOperand);const current=parseFloat(currentOperand);if(isNaN(prev)||isNaN(current))return\"\";let computation=\"\";switch(operation){case\"+\":computation=prev+current;break;case\"-\":computation=prev-current;break;case\"*\":computation=prev*current;break;case\"/\":computation=prev/current;break;default:}return computation.toString();}function App(){const[{currentOperand,previousOperand,operation},dispatch]=useReducer(reducer,{});return/*#__PURE__*/_jsxs(\"div\",{className:\"calculator-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"output\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"previous-operand\",children:[previousOperand,operation]}),/*#__PURE__*/_jsx(\"div\",{className:\"current-operand\",children:currentOperand})]}),/*#__PURE__*/_jsx(\"button\",{className:\"span-two\",onClick:()=>dispatch({type:ACTIONS.CLEAR}),children:\"AC\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>dispatch({type:ACTIONS.DELETE_DIGIT}),children:\"DEL\"}),/*#__PURE__*/_jsx(OperationButton,{operation:\"/\",dispatch:dispatch}),/*#__PURE__*/_jsx(Digitbutton,{digit:\"1\",dispatch:dispatch}),/*#__PURE__*/_jsx(Digitbutton,{digit:\"2\",dispatch:dispatch}),/*#__PURE__*/_jsx(Digitbutton,{digit:\"3\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperationButton,{operation:\"*\",dispatch:dispatch}),/*#__PURE__*/_jsx(Digitbutton,{digit:\"4\",dispatch:dispatch}),/*#__PURE__*/_jsx(Digitbutton,{digit:\"5\",dispatch:dispatch}),/*#__PURE__*/_jsx(Digitbutton,{digit:\"6\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperationButton,{operation:\"+\",dispatch:dispatch}),/*#__PURE__*/_jsx(Digitbutton,{digit:\"7\",dispatch:dispatch}),/*#__PURE__*/_jsx(Digitbutton,{digit:\"8\",dispatch:dispatch}),/*#__PURE__*/_jsx(Digitbutton,{digit:\"9\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperationButton,{operation:\"-\",dispatch:dispatch}),/*#__PURE__*/_jsx(Digitbutton,{digit:\".\",dispatch:dispatch}),/*#__PURE__*/_jsx(Digitbutton,{digit:\"0\",dispatch:dispatch}),/*#__PURE__*/_jsx(\"button\",{className:\"span-two\",onClick:()=>dispatch({type:ACTIONS.EVALUATE}),children:\"=\"})]});}export default App;","map":{"version":3,"names":["useReducer","Digitbutton","OperationButton","jsxs","_jsxs","jsx","_jsx","ACTIONS","ADD_DIGIT","CHOOSE_OPERATION","CLEAR","EVALUATE","DELETE_DIGIT","reducer","state","_ref","type","payload","overwrite","currentOperand","digit","includes","concat","previousOperand","operation","evaluate","length","slice","_ref2","prev","parseFloat","current","isNaN","computation","toString","App","dispatch","className","children","onClick"],"sources":["E:/React_Projects/Calculator/calculator/src/App.js"],"sourcesContent":["import { useReducer } from \"react\";\nimport \"./styles.css\"\nimport Digitbutton from \"./Digitbutton\";\nimport OperationButton from \"./Operationbutton\";\n\nexport const ACTIONS = {\n  ADD_DIGIT: 'add-digit',\n  CHOOSE_OPERATION: 'choose_operation',\n  CLEAR: 'clear',\n  EVALUATE: 'evaluate',\n  DELETE_DIGIT: 'delete-digit'\n}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case ACTIONS.ADD_DIGIT:\n      if (state.overwrite) return {\n        ...state,\n        currentOperand: payload.digit,\n        overwrite: false\n      }\n      if (payload.digit === \"0\" && state.currentOperand === \"0\") return state;\n      if (payload.digit === \".\" && state.currentOperand.includes(\".\")) return state;\n      return {\n        ...state,\n        currentOperand: `${state.currentOperand || \"\"}${payload.digit}`\n      }\n\n    case ACTIONS.CLEAR:\n      return {}\n\n\n    case ACTIONS.CHOOSE_OPERATION:\n      if (state.currentOperand == null && state.previousOperand == null) { return state }\n      if (state.previousOperand == null) return { ...state, operation: payload.operation, previousOperand: state.currentOperand, currentOperand: null, }\n      return { ...state, previousOperand: evaluate(state), operation: payload.operation, currentOperand: null }\n\n\n    case ACTIONS.EVALUATE:\n      if (state.operation == null ||\n        state.currentOperand == null ||\n        state.previousOperand == null) {\n        return state\n      }\n      return {\n        ...state,\n        overwrite: true,\n        previousOperand: null,\n        operation: null,\n        currentOperand: evaluate(state)\n      }\n\n    case ACTIONS.DELETE_DIGIT:\n      if (state.overwrite) {\n        return {\n          ...state,\n          overwrite: false,\n          currentOperand: null\n        }\n      }\n      if (state.currentOperand == null) return state\n      if (state.currentOperand.length === 1) {\n        return { ...state, currentOperand: null }\n      }\n      return {\n        ...state,\n        currentOperand: state.currentOperand.slice(0, -1)\n      }\n\n  }\n}\n\nfunction evaluate({ currentOperand, previousOperand, operation }) {\n  const prev = parseFloat(previousOperand)\n  const current = parseFloat(currentOperand)\n  if (isNaN(prev) || isNaN(current)) return \"\"\n  let computation = \"\"\n  switch (operation) {\n    case \"+\":\n      computation = prev + current\n      break\n    case \"-\":\n      computation = prev - current\n      break\n    case \"*\":\n      computation = prev * current\n      break\n    case \"/\":\n      computation = prev / current\n      break\n    default:\n  }\n  return computation.toString();\n}\n\nfunction App() {\n  const [{ currentOperand, previousOperand, operation }, dispatch] = useReducer(reducer, {})\n\n  return (\n    <div className=\"calculator-grid\">\n      <div className=\"output\">\n        <div className=\"previous-operand\">{previousOperand}{operation}</div>\n\n        <div className=\"current-operand\">{currentOperand}</div>\n      </div>\n      <button className=\"span-two\" onClick={() => dispatch({ type: ACTIONS.CLEAR })}>AC</button>\n      <button onClick={() => dispatch({ type: ACTIONS.DELETE_DIGIT })}>DEL</button>\n      <OperationButton operation={\"/\"} dispatch={dispatch} />\n      <Digitbutton digit={\"1\"} dispatch={dispatch} />\n      <Digitbutton digit={\"2\"} dispatch={dispatch} />\n      <Digitbutton digit={\"3\"} dispatch={dispatch} />\n      <OperationButton operation={\"*\"} dispatch={dispatch} />\n      <Digitbutton digit={\"4\"} dispatch={dispatch} />\n      <Digitbutton digit={\"5\"} dispatch={dispatch} />\n      <Digitbutton digit={\"6\"} dispatch={dispatch} />\n      <OperationButton operation={\"+\"} dispatch={dispatch} />\n      <Digitbutton digit={\"7\"} dispatch={dispatch} />\n      <Digitbutton digit={\"8\"} dispatch={dispatch} />\n      <Digitbutton digit={\"9\"} dispatch={dispatch} />\n      <OperationButton operation={\"-\"} dispatch={dispatch} />\n      <Digitbutton digit={\".\"} dispatch={dispatch} />\n      <Digitbutton digit={\"0\"} dispatch={dispatch} />\n      <button className=\"span-two\" onClick={() => dispatch({ type: ACTIONS.EVALUATE })}>=</button>\n    </div>\n  )\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}